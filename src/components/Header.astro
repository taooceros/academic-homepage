---
// Header component with navigation

// Automatically determine page type and content based on URL
const currentPath = Astro.url.pathname;
const baseUrl = import.meta.env.BASE_URL;

// Helper function to normalize paths by removing trailing slashes
const normalizePath = (path: string) => path.endsWith('/') && path.length > 1 ? path.slice(0, -1) : path;

const normalizedCurrentPath = normalizePath(currentPath);
const normalizedBaseUrl = normalizePath(baseUrl);

const isHomePage = normalizedCurrentPath === normalizedBaseUrl || normalizedCurrentPath === '';
const isAnyBlogPage = currentPath.includes('/blog');
---

<header>
  <nav>
    <div class="logo-container">
      <h2 class="logo">
        <a href={import.meta.env.BASE_URL} class="logo-link">
          <span class="logo-text">Max Baker</span>
        </a>
      </h2>
    </div>
    <div class="internal-links">
      <a href={import.meta.env.BASE_URL} class={`nav-link ${isHomePage ? 'active' : ''}`}>
        <span class="nav-text">About</span>
        <div class="nav-indicator"></div>
      </a>
      <a href={`${import.meta.env.BASE_URL}blog`} class={`nav-link ${isAnyBlogPage ? 'active' : ''}`}>
        <span class="nav-text">Blog</span>
        <div class="nav-indicator"></div>
      </a>
    </div>
  </nav>
</header> 